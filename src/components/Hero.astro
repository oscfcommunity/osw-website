---
import Container from './layout/Container.astro';
import CodeTerminal from './CodeTerminal.astro';

const {
  enabled = true,
  badge = {
    text: 'Open Source Day 2026 Coming Soon',
    icon: 'ðŸŽ‰',
    showIcon: false,
  },
  headline = {
    line1: 'Open Source',
    line2: 'Weekend',
    subtitle: 'A Community-Driven Initiative',
    description:
      'Empowering developers through events, workshops, and celebrations of open source technology',
  },
  cta = {
    primary: {
      text: 'Learn more',
      link: 'https://osd.opensourceweekend.org/',
      external: true,
    },
  },
  showTerminal = true,
} = Astro.props;

if (!enabled) {
  return null;
}
---

<section
  class="relative min-h-[80vh] md:min-h-[90vh] flex items-center overflow-hidden py-4"
  aria-labelledby="hero-heading"
>
  <!-- Grid Background -->
  <div
    class="absolute inset-0 bg-base-200 bg-[linear-gradient(to_right,#4f4f4f20_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f20_1px,transparent_1px)] bg-[size:45px_45px]"
  >
  </div>
  <div
    class="absolute inset-0 bg-gradient-to-b from-transparent via-base-200/30 to-base-200"
  >
  </div>

  <Container>
    <div class="relative z-10 w-full max-w-7xl mx-auto">
      <div
        class:list={[
          'grid gap-6 md:gap-8 lg:gap-12 items-center',
          showTerminal ? 'lg:grid-cols-2' : 'grid-cols-1',
        ]}
      >
        <!-- Content -->
        <div
          class:list={[
            'space-y-4 md:space-y-6',
            !showTerminal && 'max-w-4xl mx-auto text-center',
          ]}
        >
          <!-- Badge -->
          <div
            class:list={[
              'flex',
              showTerminal
                ? 'justify-center lg:justify-start'
                : 'justify-center',
            ]}
          >
            <div
              class="inline-flex items-center gap-2 bg-white/50 border border-green-300 rounded-full px-4 py-1 shadow-md transition-all"
            >
              {
                badge.showIcon && badge.icon && (
                  <span class="text-base">{badge.icon}</span>
                )
              }
              <span
                class="text-xs md:text-sm font-bold text-green-500 uppercase tracking-wider"
                >{badge.text}</span
              >
            </div>
          </div>

          <!-- Headline -->
          <div
            class:list={[
              'space-y-4 md:space-y-6',
              showTerminal ? 'text-center lg:text-left' : 'text-center',
            ]}
          >
            <h1
              id="hero-heading"
              class="text-5xl md:text-6xl lg:text-7xl font-black leading-tight tracking-tight"
            >
              <span class="block text-base-content">{headline.line1}</span>
              <span
                class="block bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 bg-clip-text text-transparent"
                >{headline.line2}</span
              >
            </h1>
            <p
              class:list={[
                'text-lg sm:text-xl md:text-2xl font-semibold text-base-content',
                showTerminal ? 'max-w-lg mx-auto lg:mx-0' : 'max-w-3xl mx-auto',
              ]}
            >
              {headline.subtitle}
            </p>
          </div>

          <!-- Description -->
          <p
            class:list={[
              'text-sm sm:text-base md:text-lg text-base-content/80 leading-relaxed',
              showTerminal
                ? 'max-w-xl mx-auto lg:mx-0 text-center lg:text-left'
                : 'max-w-3xl mx-auto text-center',
            ]}
          >
            {headline.description}
          </p>
        </div>

        <!-- Terminal -->
        {
          showTerminal && (
            <div class="hidden lg:block">
              <div class="relative">
                <div class="absolute -top-10 -right-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl" />
                <div class="absolute -bottom-10 -left-10 w-72 h-72 bg-secondary/10 rounded-full blur-3xl" />
                <div class="relative shadow-2xl">
                  <CodeTerminal />
                </div>
              </div>
            </div>
          )
        }
      </div>
    </div>
  </Container>
</section>
